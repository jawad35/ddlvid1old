{"ast":null,"code":"\"use strict\";\n\nvar _s = $RefreshSig$();\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nvar AD2HS = function AD2HS() {\n  _s();\n  var _useState = useState(false),\n    hideBanner = _useState[0],\n    setHideBanner = _useState[1];\n  var deferredPrompt;\n  var showAddToHomeScreen = function showAddToHomeScreen() {\n    var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\n    if (a2hsBtn) {\n      a2hsBtn.classList.add(\"show\");\n      var btn = a2hsBtn.querySelector(\"button\");\n      if (btn) addEventListener(\"click\", addToHomeScreen);\n    }\n  };\n  var addToHomeScreen = function addToHomeScreen() {\n    var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\n    a2hsBtn.style.display = 'none';\n    deferredPrompt.prompt();\n    deferredPrompt.userChoice.then(function (choiceResult) {\n      if (choiceResult.outcome === 'accepted') {\n        window._gaq.push(['_trackEvent', 'addedToHomeScreen', 'true']);\n      }\n      deferredPrompt = null;\n    });\n  };\n  useEffect(function () {\n    if (false || true && 'hideAD2HS' in window.localStorage) {\n      setHideBanner(true);\n    }\n    if (true && window.innerWidth <= 1050) {\n      window.addEventListener('beforeinstallprompt', function (e) {\n        e.preventDefault();\n        deferredPrompt = e;\n        showAddToHomeScreen();\n      });\n    }\n  }, []);\n  if (!hideBanner) {\n    return __jsx(\"div\", {\n      className: \"ad2hs-prompt animated fadeInRight\"\n    }, __jsx(\"button\", null, \"Install DDLVid Web App\"), __jsx(\"a\", {\n      className: \"close\",\n      onClick: function onClick() {\n        window.localStorage.setItem('hideAD2HS', true);\n        setHideBanner(true);\n      }\n    }, \"x\"));\n  }\n  return null;\n};\n_s(AD2HS, \"kpZUWroFWO/XZJaA0z1soJEekJM=\");\n_c = AD2HS;\nexport default AD2HS;\nvar _c;\n$RefreshReg$(_c, \"AD2HS\");","map":{"version":3,"names":["_s","$RefreshSig$","React","__jsx","createElement","useState","useEffect","AD2HS","_useState","hideBanner","setHideBanner","deferredPrompt","showAddToHomeScreen","a2hsBtn","window","document","querySelector","classList","add","btn","addEventListener","addToHomeScreen","style","display","prompt","userChoice","then","choiceResult","outcome","_gaq","push","localStorage","innerWidth","e","preventDefault","className","onClick","setItem","_c","$RefreshReg$"],"sources":["D:/Clients Panel/Web Development/ddlvid1old/pages/parts/ad2hs.js"],"sourcesContent":["\"use strict\";\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst AD2HS = () => {\r\n\r\n    const [hideBanner, setHideBanner] = useState(false);\r\n    \r\n    var deferredPrompt;\r\n\r\n    const showAddToHomeScreen = () => {\r\n        var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\r\n        if (a2hsBtn) {\r\n            a2hsBtn.classList.add(\"show\");\r\n            var btn = a2hsBtn.querySelector(\"button\");\r\n            if (btn) addEventListener(\"click\", addToHomeScreen);\r\n        }\r\n    };\r\n\r\n    const addToHomeScreen = () => {\r\n        var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\r\n        a2hsBtn.style.display = 'none';\r\n        deferredPrompt.prompt();\r\n        deferredPrompt.userChoice.then(function(choiceResult) {\r\n            if (choiceResult.outcome === 'accepted') {\r\n                window._gaq.push(['_trackEvent', 'addedToHomeScreen', 'true']);\r\n            }\r\n            deferredPrompt = null;\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined' || typeof window !== 'undefined' && 'hideAD2HS' in window.localStorage) {\r\n            setHideBanner(true);\r\n        }\r\n\r\n        if (typeof window !== 'undefined' && window.innerWidth <= 1050) {\r\n            window.addEventListener('beforeinstallprompt', function (e) {\r\n                e.preventDefault();\r\n                deferredPrompt = e;\r\n                showAddToHomeScreen();\r\n            });\r\n        }\r\n    }, [])\r\n\r\n    if (!hideBanner) {\r\n        return (\r\n            <div className=\"ad2hs-prompt animated fadeInRight\">\r\n                <button>Install DDLVid Web App</button>\r\n                <a className=\"close\" onClick={() => {\r\n                    window.localStorage.setItem('hideAD2HS', true);\r\n                    setHideBanner(true);\r\n                }}>x</a>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default AD2HS\r\n"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,EAAA,GAAAC,YAAA;AAAA,OAAAC,KAAA;AAAA,IAAAC,KAAA,GAAAD,KAAA,CAAAE,aAAA;AAEb,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,IAAMC,KAAK,GAAG,SAARA,KAAKA,CAAA,EAAS;EAAAP,EAAA;EAEhB,IAAAQ,SAAA,GAAoCH,QAAQ,CAAC,KAAK,CAAC;IAA5CI,UAAU,GAAAD,SAAA;IAAEE,aAAa,GAAAF,SAAA;EAEhC,IAAIG,cAAc;EAElB,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAA,EAAS;IAC9B,IAAIC,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAC5D,IAAIH,OAAO,EAAE;MACTA,OAAO,CAACI,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;MAC7B,IAAIC,GAAG,GAAGN,OAAO,CAACG,aAAa,CAAC,QAAQ,CAAC;MACzC,IAAIG,GAAG,EAAEC,gBAAgB,CAAC,OAAO,EAAEC,eAAe,CAAC;IACvD;EACJ,CAAC;EAED,IAAMA,eAAe,GAAG,SAAlBA,eAAeA,CAAA,EAAS;IAC1B,IAAIR,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAC5DH,OAAO,CAACS,KAAK,CAACC,OAAO,GAAG,MAAM;IAC9BZ,cAAc,CAACa,MAAM,CAAC,CAAC;IACvBb,cAAc,CAACc,UAAU,CAACC,IAAI,CAAC,UAASC,YAAY,EAAE;MAClD,IAAIA,YAAY,CAACC,OAAO,KAAK,UAAU,EAAE;QACrCd,MAAM,CAACe,IAAI,CAACC,IAAI,CAAC,CAAC,aAAa,EAAE,mBAAmB,EAAE,MAAM,CAAC,CAAC;MAClE;MACAnB,cAAc,GAAG,IAAI;IACzB,CAAC,CAAC;EACN,CAAC;EAEDL,SAAS,CAAC,YAAM;IACZ,IAAI,SAAiC,QAAiC,WAAW,IAAIQ,MAAM,CAACiB,YAAY,EAAE;MACtGrB,aAAa,CAAC,IAAI,CAAC;IACvB;IAEA,IAAI,QAAiCI,MAAM,CAACkB,UAAU,IAAI,IAAI,EAAE;MAC5DlB,MAAM,CAACM,gBAAgB,CAAC,qBAAqB,EAAE,UAAUa,CAAC,EAAE;QACxDA,CAAC,CAACC,cAAc,CAAC,CAAC;QAClBvB,cAAc,GAAGsB,CAAC;QAClBrB,mBAAmB,CAAC,CAAC;MACzB,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACH,UAAU,EAAE;IACb,OACIN,KAAA;MAAKgC,SAAS,EAAC;IAAmC,GAC9ChC,KAAA,yCAAsC,CAAC,EACvCA,KAAA;MAAGgC,SAAS,EAAC,OAAO;MAACC,OAAO,EAAE,SAAAA,QAAA,EAAM;QAChCtB,MAAM,CAACiB,YAAY,CAACM,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;QAC9C3B,aAAa,CAAC,IAAI,CAAC;MACvB;IAAE,MAAK,CACN,CAAC;EAEd;EAEA,OAAO,IAAI;AACf,CAAC;AAAAV,EAAA,CAtDKO,KAAK;AAAA+B,EAAA,GAAL/B,KAAK;AAwDX,eAAeA,KAAK;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module"}