{"ast":null,"code":"\"use strict\";\n\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect } from 'react';\nconst AD2HS = () => {\n  const {\n    0: hideBanner,\n    1: setHideBanner\n  } = useState(false);\n  var deferredPrompt;\n  const showAddToHomeScreen = () => {\n    var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\n    if (a2hsBtn) {\n      a2hsBtn.classList.add(\"show\");\n      var btn = a2hsBtn.querySelector(\"button\");\n      if (btn) addEventListener(\"click\", addToHomeScreen);\n    }\n  };\n  const addToHomeScreen = () => {\n    var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\n    a2hsBtn.style.display = 'none';\n    deferredPrompt.prompt();\n    deferredPrompt.userChoice.then(function (choiceResult) {\n      if (choiceResult.outcome === 'accepted') {\n        window._gaq.push(['_trackEvent', 'addedToHomeScreen', 'true']);\n      }\n      deferredPrompt = null;\n    });\n  };\n  useEffect(() => {\n    if (true || false && 'hideAD2HS' in window.localStorage) {\n      setHideBanner(true);\n    }\n    if (false && window.innerWidth <= 1050) {\n      window.addEventListener('beforeinstallprompt', function (e) {\n        e.preventDefault();\n        deferredPrompt = e;\n        showAddToHomeScreen();\n      });\n    }\n  }, []);\n  if (!hideBanner) {\n    return __jsx(\"div\", {\n      className: \"ad2hs-prompt animated fadeInRight\"\n    }, __jsx(\"button\", null, \"Install DDLVid Web App\"), __jsx(\"a\", {\n      className: \"close\",\n      onClick: () => {\n        window.localStorage.setItem('hideAD2HS', true);\n        setHideBanner(true);\n      }\n    }, \"x\"));\n  }\n  return null;\n};\nexport default AD2HS;","map":{"version":3,"names":["React","__jsx","createElement","useState","useEffect","AD2HS","hideBanner","setHideBanner","deferredPrompt","showAddToHomeScreen","a2hsBtn","window","document","querySelector","classList","add","btn","addEventListener","addToHomeScreen","style","display","prompt","userChoice","then","choiceResult","outcome","_gaq","push","localStorage","innerWidth","e","preventDefault","className","onClick","setItem"],"sources":["D:/Clients Panel/Web Development/ddlvid1old/pages/parts/ad2hs.js"],"sourcesContent":["\"use strict\";\r\n\r\nimport { useState, useEffect } from 'react';\r\n\r\nconst AD2HS = () => {\r\n\r\n    const [hideBanner, setHideBanner] = useState(false);\r\n    \r\n    var deferredPrompt;\r\n\r\n    const showAddToHomeScreen = () => {\r\n        var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\r\n        if (a2hsBtn) {\r\n            a2hsBtn.classList.add(\"show\");\r\n            var btn = a2hsBtn.querySelector(\"button\");\r\n            if (btn) addEventListener(\"click\", addToHomeScreen);\r\n        }\r\n    };\r\n\r\n    const addToHomeScreen = () => {\r\n        var a2hsBtn = window.document.querySelector(\".ad2hs-banner\");\r\n        a2hsBtn.style.display = 'none';\r\n        deferredPrompt.prompt();\r\n        deferredPrompt.userChoice.then(function(choiceResult) {\r\n            if (choiceResult.outcome === 'accepted') {\r\n                window._gaq.push(['_trackEvent', 'addedToHomeScreen', 'true']);\r\n            }\r\n            deferredPrompt = null;\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (typeof window === 'undefined' || typeof window !== 'undefined' && 'hideAD2HS' in window.localStorage) {\r\n            setHideBanner(true);\r\n        }\r\n\r\n        if (typeof window !== 'undefined' && window.innerWidth <= 1050) {\r\n            window.addEventListener('beforeinstallprompt', function (e) {\r\n                e.preventDefault();\r\n                deferredPrompt = e;\r\n                showAddToHomeScreen();\r\n            });\r\n        }\r\n    }, [])\r\n\r\n    if (!hideBanner) {\r\n        return (\r\n            <div className=\"ad2hs-prompt animated fadeInRight\">\r\n                <button>Install DDLVid Web App</button>\r\n                <a className=\"close\" onClick={() => {\r\n                    window.localStorage.setItem('hideAD2HS', true);\r\n                    setHideBanner(true);\r\n                }}>x</a>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\nexport default AD2HS\r\n"],"mappings":"AAAA,YAAY;;AAAC,OAAAA,KAAA;AAAA,IAAAC,KAAA,GAAAD,KAAA,CAAAE,aAAA;AAEb,SAASC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAEhB,MAAM;IAAA,GAACC,UAAU;IAAA,GAAEC;EAAa,IAAIJ,QAAQ,CAAC,KAAK,CAAC;EAEnD,IAAIK,cAAc;EAElB,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;IAC9B,IAAIC,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAC5D,IAAIH,OAAO,EAAE;MACTA,OAAO,CAACI,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;MAC7B,IAAIC,GAAG,GAAGN,OAAO,CAACG,aAAa,CAAC,QAAQ,CAAC;MACzC,IAAIG,GAAG,EAAEC,gBAAgB,CAAC,OAAO,EAAEC,eAAe,CAAC;IACvD;EACJ,CAAC;EAED,MAAMA,eAAe,GAAGA,CAAA,KAAM;IAC1B,IAAIR,OAAO,GAAGC,MAAM,CAACC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;IAC5DH,OAAO,CAACS,KAAK,CAACC,OAAO,GAAG,MAAM;IAC9BZ,cAAc,CAACa,MAAM,CAAC,CAAC;IACvBb,cAAc,CAACc,UAAU,CAACC,IAAI,CAAC,UAASC,YAAY,EAAE;MAClD,IAAIA,YAAY,CAACC,OAAO,KAAK,UAAU,EAAE;QACrCd,MAAM,CAACe,IAAI,CAACC,IAAI,CAAC,CAAC,aAAa,EAAE,mBAAmB,EAAE,MAAM,CAAC,CAAC;MAClE;MACAnB,cAAc,GAAG,IAAI;IACzB,CAAC,CAAC;EACN,CAAC;EAEDJ,SAAS,CAAC,MAAM;IACZ,IAAI,QAAiC,SAAiC,WAAW,IAAIO,MAAM,CAACiB,YAAY,EAAE;MACtGrB,aAAa,CAAC,IAAI,CAAC;IACvB;IAEA,IAAI,SAAiCI,MAAM,CAACkB,UAAU,IAAI,IAAI,EAAE;MAC5DlB,MAAM,CAACM,gBAAgB,CAAC,qBAAqB,EAAE,UAAUa,CAAC,EAAE;QACxDA,CAAC,CAACC,cAAc,CAAC,CAAC;QAClBvB,cAAc,GAAGsB,CAAC;QAClBrB,mBAAmB,CAAC,CAAC;MACzB,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI,CAACH,UAAU,EAAE;IACb,OACIL,KAAA;MAAK+B,SAAS,EAAC;IAAmC,GAC9C/B,KAAA,yCAAsC,CAAC,EACvCA,KAAA;MAAG+B,SAAS,EAAC,OAAO;MAACC,OAAO,EAAEA,CAAA,KAAM;QAChCtB,MAAM,CAACiB,YAAY,CAACM,OAAO,CAAC,WAAW,EAAE,IAAI,CAAC;QAC9C3B,aAAa,CAAC,IAAI,CAAC;MACvB;IAAE,MAAK,CACN,CAAC;EAEd;EAEA,OAAO,IAAI;AACf,CAAC;AAED,eAAeF,KAAK"},"metadata":{},"sourceType":"module"}