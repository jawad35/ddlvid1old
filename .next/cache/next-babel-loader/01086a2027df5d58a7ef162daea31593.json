{"ast":null,"code":"if (true) {\n  var bounceKiller = {\n    trackScrolling: true,\n    scrollingPercentageNumber: 25,\n    logInterval: 10,\n    trackEvents: true,\n    trackMaxTime: true,\n    trackMaxTimeSec: 900\n  };\n  window.scrollTrackEnd = false;\n  window.ScrollMatrix = new Array();\n\n  if (true) {\n    var bkEvent = function bkEvent(eventCategory, value, obj) {\n      if (typeof obj === \"undefined\") obj = [];\n\n      if (typeof window.ga !== 'undefined') {\n        window.ga('send', 'event', eventCategory, \"LOG\", value, obj);\n      }\n\n      if (typeof window._gaq !== 'undefined') {\n        window._gaq.push(['_trackEvent', eventCategory, \"LOG\", value, obj]);\n      }\n    };\n\n    var TrackingLogTime = function TrackingLogTime(a) {\n      return a[0] == 50 ? parseInt(a[1]) + 1 + \":00\" : (a[1] || \"0\") + \":\" + (parseInt(a[0]) + 10);\n    };\n\n    window._gaq = window._gaq || [];\n    ;\n\n    if (bounceKiller.trackEvents) {\n      var _startTimeTracking = function _startTimeTracking(a) {\n        window.intervalObj = window.setInterval(function () {\n          a = TrackingLogTime(a.split(\":\").reverse());\n          bkEvent(\"Time\", a);\n        }, bounceKiller.logInterval * 1000);\n\n        if (bounceKiller.trackMaxTime) {\n          window.trackMaxTimeTimeout = setTimeout(function () {\n            clearInterval(window.intervalObj);\n          }, bounceKiller.trackMaxTimeSec * 1000);\n        }\n      };\n\n      window.document.addEventListener(\"DOMContentLoaded\", function () {\n        _startTimeTracking(\"00\");\n      });\n    }\n\n    setTimeout(function () {\n      if (bounceKiller.trackScrolling) {\n        window.Frequency = bounceKiller.scrollingPercentageNumber;\n        window.Repentance = 100 / bounceKiller.scrollingPercentageNumber;\n        window.ScrollMatrix = new Array();\n\n        for (var ix = 0; ix < window.Repentance; ix++) {\n          window.ScrollMatrix[ix] = [window.Frequency, \"false\"];\n          window.Frequency = bounceKiller.scrollingPercentageNumber + window.Frequency;\n        }\n      }\n\n      ;\n\n      window.onscroll = function () {\n        if (bounceKiller.trackScrolling) {\n          if (!window.scrollTrackEnd) {\n            bkEvent(\"Scroll\", \"scrolled\");\n            window.scrollTrackEnd = true;\n          }\n        }\n\n        if (bounceKiller.trackScrolling) {\n          var body = window.document.body,\n              html = window.document.documentElement;\n          var documentHeight = Math.max(body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight);\n\n          for (iz = 0; iz < window.ScrollMatrix.length; iz++) {\n            if (window.scrollY + window.innerHeight >= documentHeight * window.ScrollMatrix[iz][0] / 100 && window.ScrollMatrix[iz][1] == \"false\") {\n              window.ScrollMatrix[iz][1] = \"true\";\n              bkEvent(\"Percentage Page Scroll\", window.ScrollMatrix[iz][0] + \"%\", {\n                nonInteraction: false\n              });\n            }\n          }\n        }\n      };\n    }, 2000);\n  }\n}\n\nfunction reset() {\n  window.scrollTrackEnd = false;\n  window.scrollTrackEnd = false;\n  window.Frequency = bounceKiller.scrollingPercentageNumber;\n  window.Repentance = 100 / bounceKiller.scrollingPercentageNumber;\n  window.ScrollMatrix = new Array();\n\n  for (var ix = 0; ix < window.Repentance; ix++) {\n    window.ScrollMatrix[ix] = [window.Frequency, \"false\"];\n    window.Frequency = bounceKiller.scrollingPercentageNumber + window.Frequency;\n  }\n\n  if (bounceKiller.trackEvents) {\n    if (\"intervalObj\" in window) {\n      clearInterval(window.intervalObj);\n      clearTimeout(window.trackMaxTimeTimeout);\n      startTimeTracking(\"00\");\n    }\n  }\n}\n\nmodule.exports = {\n  reset: reset\n};","map":null,"metadata":{},"sourceType":"script"}